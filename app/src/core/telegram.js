const a3_0x3070bc=a3_0x4a3d;function a3_0x4a3d(_0x1b3dde,_0x1bd9c9){const _0x531569=a3_0x5315();return a3_0x4a3d=function(_0x4a3d94,_0x45c6da){_0x4a3d94=_0x4a3d94-0x106;let _0x44711b=_0x531569[_0x4a3d94];return _0x44711b;},a3_0x4a3d(_0x1b3dde,_0x1bd9c9);}(function(_0x19b1bf,_0x27eb5a){const _0xd81eff=a3_0x4a3d,_0x1856b0=_0x19b1bf();while(!![]){try{const _0x2107f8=-parseInt(_0xd81eff(0x119))/0x1+-parseInt(_0xd81eff(0x124))/0x2*(parseInt(_0xd81eff(0x120))/0x3)+parseInt(_0xd81eff(0x137))/0x4*(parseInt(_0xd81eff(0x12e))/0x5)+parseInt(_0xd81eff(0x14d))/0x6*(-parseInt(_0xd81eff(0x147))/0x7)+parseInt(_0xd81eff(0x151))/0x8+-parseInt(_0xd81eff(0x14c))/0x9*(parseInt(_0xd81eff(0x142))/0xa)+parseInt(_0xd81eff(0x14e))/0xb*(parseInt(_0xd81eff(0x152))/0xc);if(_0x2107f8===_0x27eb5a)break;else _0x1856b0['push'](_0x1856b0['shift']());}catch(_0x9a19cb){_0x1856b0['push'](_0x1856b0['shift']());}}}(a3_0x5315,0x48b63));import a3_0x1a0491 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x1ed4cc from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x5315(){const _0x3cf8ff=['593937NKUOZM','1509990GGblrC','297UDAhkx','query','log','1185656bFOPZD','478740HMtpju','error','init','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','<empty>\x0a','Enter\x20your\x20Telegram\x20Password?','info','sessionCreation','useSession','includes','exit','<empty>','queryModificaiton','client','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','peer','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','RequestWebView','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','You\x20dont\x20have\x20any\x20Query\x20Account.','VooiAppBot','seconds','text','android','saveQueryFile','Session\x20','438608mGTWAM','resolvePeer','getEntity','serverAddress','messages','length','Invalid\x20input,\x20Please\x20try\x20again','21ppYlSy','Invalid\x20Input','\x20|\x20FloodWait\x20','query-','46534nlwwTN','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','getTelegramQuery','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','accounts','Old\x20Query\x20:\x20','queryCreation','accountType','onBoarding','start','122565xGjPzv','proxy','createDir','agent','url','delay','bot','\x20-\x20Created','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','72DbtImJ','accountName','\x20|\x20Sleep\x20','accounts/','indexOf','Query\x20','getSession','warn','save','session','Your\x20Account\x20List\x20:\x0a\x20\x0a','40ideYgY','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x20-\x20Webview\x20Connected','storeSession','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','14nruUHF','invoke','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','TELEGRAM_APP_ID','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'];a3_0x5315=function(){return _0x3cf8ff;};return a3_0x5315();}export class Telegram{[a3_0x3070bc(0x145)];constructor(){const _0x3e654b=a3_0x3070bc;this[_0x3e654b(0x138)]='accounts',this[_0x3e654b(0x132)]='https://app.tg.vooi.io/',this[_0x3e654b(0x134)]=_0x3e654b(0x113);}async[a3_0x3070bc(0x154)](){const _0x2122f0=a3_0x3070bc;try{await this[_0x2122f0(0x12c)]();}catch(_0x313886){console['log'](_0x313886),a3_0x1ed4cc['error'](''+JSON['stringify'](_0x313886));throw _0x313886;}}async[a3_0x3070bc(0x12c)](){const _0x153c2e=a3_0x3070bc;try{let _0x2a3102=_0x153c2e(0x125);const _0x32e40c=Helper[_0x153c2e(0x13d)](_0x153c2e(0x128));if(_0x32e40c[_0x153c2e(0x11e)]==0x0)_0x2a3102+=_0x153c2e(0x10a);else for(const _0x25777a of _0x32e40c){_0x2a3102+='-\x20'+_0x25777a+'\x0a';}_0x2a3102+=_0x153c2e(0x149),_0x2a3102+=_0x153c2e(0x111);const _0x599f34=await a3_0x1a0491['text'](_0x2a3102);if(_0x599f34==0x1)await this[_0x153c2e(0x12b)]();else{if(_0x599f34==0x2)Helper['resetAccounts'](),await Helper[_0x153c2e(0x133)](0xbb8),await this[_0x153c2e(0x12c)]();else{if(_0x599f34==0x3)Helper[_0x153c2e(0x13d)](this[_0x153c2e(0x138)])?.[_0x153c2e(0x11e)]==0x0&&(console[_0x153c2e(0x159)](_0x153c2e(0x10d)),await this[_0x153c2e(0x12c)]());else _0x599f34==0x4?await this[_0x153c2e(0x10b)]():(console[_0x153c2e(0x153)](_0x153c2e(0x11f)),await this['onBoarding']());}}}catch(_0xbdca04){throw _0xbdca04;}}async['queryModificaiton'](){const _0x40b3ea=a3_0x3070bc;try{const _0x663b57=Helper[_0x40b3ea(0x13d)](_0x40b3ea(0x128)),_0x2da63e=_0x663b57['filter'](_0x8e16e=>_0x8e16e[_0x40b3ea(0x108)](_0x40b3ea(0x14f)));let _0x5d7ccd=_0x40b3ea(0x10f);for(const _0x462553 of _0x2da63e){_0x5d7ccd+=_0x663b57[_0x40b3ea(0x13b)](_0x462553)+0x1+'.\x20'+_0x462553+'\x0a';}_0x2da63e[_0x40b3ea(0x11e)]==0x0?(console['log'](_0x40b3ea(0x112)),await this[_0x40b3ea(0x12c)]()):_0x5d7ccd+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x290a23=await a3_0x1a0491[_0x40b3ea(0x115)](_0x5d7ccd);if(_0x2da63e[_0x290a23-0x1]!=undefined){const _0x24adbf=_0x2da63e[_0x290a23-0x1];this[_0x40b3ea(0x138)]=_0x40b3ea(0x13a)+_0x24adbf;const _0x1b2653=_0x40b3ea(0x129)+Helper['readQueryFile'](this[_0x40b3ea(0x138)]+'/query.txt')+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x4613bc=await a3_0x1a0491[_0x40b3ea(0x115)](_0x1b2653);await Helper[_0x40b3ea(0x117)](this['accountName'],_0x4613bc),await Helper[_0x40b3ea(0x133)](0xbb8),await this[_0x40b3ea(0x12c)]();}else console['error'](_0x40b3ea(0x11f)),await this['queryModificaiton']();}catch(_0x583f8e){throw _0x583f8e;}}async[a3_0x3070bc(0x106)](){const _0x25bfa8=a3_0x3070bc;try{if(Config[_0x25bfa8(0x14a)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x41a948=Helper[_0x25bfa8(0x13d)](_0x25bfa8(0x128));let _0x56ea3c='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0xfd55f8 of _0x41a948){_0x56ea3c+=_0x41a948[_0x25bfa8(0x13b)](_0xfd55f8)+0x1+'.\x20'+_0xfd55f8+'\x0a';}_0x41a948[_0x25bfa8(0x11e)]==0x0?_0x56ea3c+=_0x25bfa8(0x156):_0x56ea3c+=_0x25bfa8(0x127);const _0x2ef36a=await a3_0x1a0491[_0x25bfa8(0x115)](_0x56ea3c);this[_0x25bfa8(0x138)]=Helper['createDir']('sessions-'+_0x2ef36a),await this[_0x25bfa8(0x107)](this['accountName']),await this['disconnect'](),a3_0x1ed4cc[_0x25bfa8(0x159)](_0x25bfa8(0x118)+this[_0x25bfa8(0x138)]+_0x25bfa8(0x135)),console['log'](_0x25bfa8(0x118)+_0x2ef36a+_0x25bfa8(0x146)),this[_0x25bfa8(0x145)][_0x25bfa8(0x13f)](),await Helper[_0x25bfa8(0x133)](0xbb8),process[_0x25bfa8(0x109)]();}catch(_0x368e34){throw _0x368e34;}}async['queryCreation'](){const _0x56abdd=a3_0x3070bc;try{const _0x1ea16b=Helper[_0x56abdd(0x13d)](_0x56abdd(0x128));let _0x2e6f0f=_0x56abdd(0x141);for(const _0x446999 of _0x1ea16b){_0x2e6f0f+=_0x1ea16b[_0x56abdd(0x13b)](_0x446999)+0x1+'.\x20'+_0x446999+'\x0a';}_0x1ea16b[_0x56abdd(0x11e)]==0x0?_0x2e6f0f+=_0x56abdd(0x136):_0x2e6f0f+=_0x56abdd(0x143);const _0x21a213=await a3_0x1a0491[_0x56abdd(0x115)](_0x2e6f0f);this[_0x56abdd(0x138)]=Helper[_0x56abdd(0x130)](_0x56abdd(0x123)+_0x21a213);let _0x3f24f3='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x32de78=await a3_0x1a0491[_0x56abdd(0x115)](_0x3f24f3);await Helper['saveQueryFile'](this[_0x56abdd(0x138)],_0x32de78),a3_0x1ed4cc[_0x56abdd(0x159)]('Query\x20'+this[_0x56abdd(0x138)]+'\x20-\x20Created'),console[_0x56abdd(0x150)](_0x56abdd(0x13c)+_0x21a213+_0x56abdd(0x146)),await Helper[_0x56abdd(0x133)](0xbb8),process[_0x56abdd(0x109)]();}catch(_0x5a1298){throw _0x5a1298;}}async[a3_0x3070bc(0x12b)](){const _0x21aaf6=a3_0x3070bc;try{const _0x8dda81=Helper[_0x21aaf6(0x13d)](_0x21aaf6(0x128));let _0x57e226=_0x21aaf6(0x141);if(_0x8dda81[_0x21aaf6(0x11e)]>0x0)for(const _0x3a1ebb of _0x8dda81){_0x57e226+=_0x8dda81[_0x21aaf6(0x13b)](_0x3a1ebb)+0x1+'.\x20'+_0x3a1ebb+'\x0a';}else _0x57e226+=_0x21aaf6(0x157);_0x57e226+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x2b4de7=await a3_0x1a0491[_0x21aaf6(0x115)](_0x57e226);if(_0x2b4de7==0x1)await this['sessionCreation']();else _0x2b4de7==0x2?await this[_0x21aaf6(0x12a)]():(console[_0x21aaf6(0x150)](_0x21aaf6(0x121)),await this[_0x21aaf6(0x12b)]());}catch(_0x2a6d60){throw _0x2a6d60;}}async['useSession'](_0xe82646,_0x37ccf6){const _0x404b2e=a3_0x3070bc;try{this[_0x404b2e(0x12f)]=_0x37ccf6;const _0x4962e4={'connectionRetries':0x5};this[_0x404b2e(0x12f)]&&(_0x4962e4[_0x404b2e(0x131)]=new HttpsProxyAgent(this['proxy'])),this[_0x404b2e(0x145)]=new StoreSession(_0xe82646),this[_0x404b2e(0x10c)]=new TelegramClient(this[_0x404b2e(0x145)],Config[_0x404b2e(0x14a)],Config['TELEGRAM_APP_HASH'],_0x4962e4),this[_0x404b2e(0x145)][_0x404b2e(0x13f)](),await this[_0x404b2e(0x10c)][_0x404b2e(0x12d)]({'phoneNumber':async()=>await a3_0x1a0491[_0x404b2e(0x115)](_0x404b2e(0x155)),'password':async()=>await a3_0x1a0491[_0x404b2e(0x115)](_0x404b2e(0x158)),'phoneCode':async()=>await a3_0x1a0491[_0x404b2e(0x115)](_0x404b2e(0x14b)),'onError':_0x371a84=>{console['log'](_0x371a84['message']);}});}catch(_0x116b2c){throw _0x116b2c;}}async[a3_0x3070bc(0x11a)](){const _0x3d3b7f=a3_0x3070bc;try{a3_0x1ed4cc[_0x3d3b7f(0x159)](_0x3d3b7f(0x118)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x3d3b7f(0x10e)]==undefined){try{this['peer']=await this['client'][_0x3d3b7f(0x11b)](this[_0x3d3b7f(0x134)]);break;}catch(_0x4b0db7){if(_0x4b0db7 instanceof FloodWaitError){const _0x4a2fb3=_0x4b0db7[_0x3d3b7f(0x114)];a3_0x1ed4cc[_0x3d3b7f(0x13e)](this[_0x3d3b7f(0x10c)]['session'][_0x3d3b7f(0x11c)]+_0x3d3b7f(0x122)+_0x4b0db7),a3_0x1ed4cc[_0x3d3b7f(0x159)](this['client'][_0x3d3b7f(0x140)]['serverAddress']+_0x3d3b7f(0x139)+_0x4a2fb3+'s'),await Helper[_0x3d3b7f(0x133)]((_0x4a2fb3+0x3)*0x3e8);}else throw _0x4b0db7;}}}catch(_0x248a2d){throw _0x248a2d;}}async['disconnect'](){const _0x593bb6=a3_0x3070bc;await this[_0x593bb6(0x10c)]['disconnect'](),await this[_0x593bb6(0x10c)]['destroy'](),this[_0x593bb6(0x10e)]=undefined,this[_0x593bb6(0x138)]=undefined;}async['initWebView'](){const _0x329709=a3_0x3070bc;try{const _0x359a04=await this[_0x329709(0x10c)][_0x329709(0x148)](new Api[(_0x329709(0x11d))][(_0x329709(0x110))]({'peer':this[_0x329709(0x10e)],'bot':this[_0x329709(0x10e)],'fromBotMenu':!![],'url':this[_0x329709(0x132)],'platform':_0x329709(0x116)}));a3_0x1ed4cc[_0x329709(0x159)](_0x329709(0x118)+this[_0x329709(0x140)]+_0x329709(0x144));const _0x5a12b6=_0x359a04[_0x329709(0x132)];return Helper[_0x329709(0x126)](_0x5a12b6,0x3);}catch(_0x34710d){throw _0x34710d;}}}